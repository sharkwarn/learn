# 移动端屏幕

## 概念术语


### 物理像素（physical pixel）


也叫做：设备像素（device pixel），指的是设备上的发光颗粒。



### 分辨率（resolution）
也是一个物理概念指的是发光的横竖点数。比如屏幕上横向有750个发光点（LED灯）竖向有1334个发光点。那么这个设备的分辨率就是2334 * 750；



### css像素（css pixel）
是Web编程的概念，指的是CSS样式代码中使用的逻辑像素（或者叫虚拟像素）。

在css中可以分为绝对单位和相对单位。比如<font color="red"> px </font>是一个相对单位，相对的是物理像素，具体这个 <font color="red"> 1px </font> 怎么展示是由这个设备决定的。


### Retina

在以前的显示设备上，一个物理像素就显示一个CSS像素，这没什么好争议的，大家也理所当然的认为该这么处理，但是这样屏幕上会出现很多的噪点，直到搭载 Retina(高清屏) 的 iPhone4出现。


### 设备像素比（device pixel ratio）

简写：<font color="red">dpr</font>

公式：物理像素数（硬件） / 逻辑像素数（软件），它是设备的属性，而不是一个单位。

其实，比值就是前面说的 物理像素数 除以 CSS像素数。

在javascript中，可以通过 window.devicePixelRatio 获取到当前设备的 dpr。
在css中，可以通过 -webkit-device-pixel-ratio，-webkit-min-device-pixel-ratio 和 -webkit-max-device-pixel-ratio 进行媒体查询，对不同dpr的设备，做一些样式适配。

当 dpr=2 时，表示：1个CSS像素 = 4个物理像素。因为像素点都是正方形，所以当1个CSS像素需要的物理像素增多2倍时，其实就是长和宽都增加了2倍。

### 像素密度（pixers per inch）

简写：<font color="red">ppi</font>，当然也叫做：<font color="red">dpi</font>。

ppi pixers per inch，出现于计算机显示领域（当然也是Android中的习惯叫法）
dpi dots per inch，出现于打印或印刷领域（当然也是iOS中的习惯叫法）

表示的是从逻辑单位到实际单位的换算。

因为大家在实际生活中，已经大体知道1米是多长，1斤是多重，而这种单位就是实际单位。

那么我告诉你：我手机屏幕是4.7英寸的，你大概有点感觉是吧？（1英寸=2.54厘米）！
但是如果为告诉你：我手机屏幕是320像素的，你是不是就懵逼了？

所以，有了像素密度这个说法，你用英寸来说明屏幕尺寸是一样的，不信，看看你能理解不？

我的iphone5屏幕上每2.54厘米上有320个小灯泡~（ppi=320）
我的iphone6屏幕上每2.54厘米上就有375个小灯泡呢！（ppi=375）

那么计算ppi，首先得计算出对角线的物理像素数，使用勾股定理，即：ppi = 根号下(1920平方+1080平方)/5.2 约等于 294。


### 设备独立像素（density-independent pixel）

也叫做：密度无关像素。
指Google提出的用来适配Android海量奇怪屏幕的，之前iOS没有设备独立像素一说，因为之前它的CSS像素都是320px，但是随着iPhone6(375px)、iPhone6 Plus(414px)等不同手机型号出现，导致了手机上能看到的CSS像素点也增加的情况下，也得考虑了。

简单来说就是手机屏幕的逻辑像素（css像素点）不能只是320px，需要根据屏幕来计算。

为什么Google提出这个概念能解决不同设备（或不同密度）下的显示问题呢？
原因是：不同的手机屏幕上 CSS像素 个数可能不一样，虽然大多数是320px!
举个栗子：

- iPhone3GS，物理像素320，dpr=1，所以决定了它的CSS像素320；
- iPhone4，物理像素640，dpr=2，所以，决定了它的CSS像素还是320；

假如这时候我们有个正方形是 30x30px，这是CSS像素，再上面的2个机器上看到的大小都一样，只是在iphone4上更清晰些，因为它用4个物理像素显示1个CSS像素。换句话说，如果大家都是手机都是320的CSS像素，那么我们就只管用 px 这个单位就可以了，在每个设备上的看到的大小都一样。

如果在iphone5s之前，iOS都不需要关心这个概念，因为你能看到的手机屏幕的CSS像素都是320px。但是，随着iPhone6/plus的出现，就让我们心塞了。
举个栗子：

你有个 160px x 160px 的元素，在iphone5s下面看起来宽度正好是 半个屏幕 大小；
在iphone6plus下面，看起来宽度貌似只占了屏幕宽度的 不到一半屏幕 大小！Why？因为人家像素数量多啊！

明白了吗？就是由于不同的设备屏幕，它所支持的屏幕显示的 CSS像素 个数不同（跟物理像素无关），所以，我们如果用 像素（px） 这个单位去WEB开发的话，在不同的手机下面就显得元素不一样大，这就是 dip 的作用，它的出现也就是为了解决这个问题的。
那么，dip 如何解决这个问题呢？


Google规定：ppi = 160时，1px = 1dip（dip在Android下面是一个单位哦！） 那么，我们就能知道，像素数px = dip * ppi / 160

那么，回到刚才的那个栗子：

- 将 80px x 80px 的元素，单位换为 80dip x 80dip ，在iphone5s下宽度是 163px x 163px（由前2行公式得，163px = 80 * 326 / 160）；
- 而这个元素在iphone6plus下，宽度是 207px x 207px（163px = 80 * 414 / 160）；

如果我们使用 dip 作单位，那么在2台机器上，显示出来的效果，差不多都等于2台机器宽度的一半！

目的就达到了。
另外，dip 作为 单位 仅仅适用于Android，但是思想可以用到 iOS 和 Windows 等平台。比如：Windows中修改屏幕分辨率，其实修改的是 dpr ，又由于物理像素不变，其实就等于修改了屏幕中 CSS像素 的个数，这也就是为什么修改了分辨率后，有些东西看着明显变大或者变小的原因了。




转载：https://juejin.im/post/5b6502686fb9a04fc34c2dfe