## 强缓存

### Expires
缓存的过期时间。http1.0标准


### Cache-Control

- max-age 指定一个时间长度，在这个时间段内缓存是有效的，单位是s
- no-store 禁止缓存，每次请求都要向服务器重新获取数据
- no-cache : max-age = 0仍然缓存，但是走协商缓存
- public 表明响应可以被任何对象（发送请求的客户端、代理服务器等等）Public 设置我们可以将 Http 响应数据存储到本地，但此时并不意味着后续浏览器会直接从缓存中读取数据并使用- 无法确定本地缓存的数据是否可用（可能已经失效）需要配合使用
- private 表明响应只能被单个用户（可能是操作系统用户、浏览器用户）缓存，是非共享的，不能被代理服务器缓存



## 协商缓存

### Etag && If-None-Match

ETag作为资源的唯一标识，资源变化都会导致ETag变化。服务器根据浏览器上送的If-None-Match值来判断是否命中缓存。没有发生改变的话，返回304。
- 缺点
    - 1. 对浏览器的性能有些影响
    - 2. 分布式服务器，需要保证计算etag的算法保持一致，如果不一致的话，可能会导致不同服务器上的验证不通过

etag的生成规则
nginx 中 etag 由响应头的 Last-Modified 与 Content-Length 表示为十六进制组合而成。
文件索引号/日期戳/文件大小


### Last-Modify/If-Modify-Since

根据文件的变更时间作为标识
- 缺点
    - 1. 只能精确到秒级别
    - 2. 文件保存但是内容没有发生变化不能判断。
