<!--
 * @file: 
 * @Author: zhuliangcan@baidu.com
 * @Date: 2021-07-24 23:36:40
 * @Description: 
 * @FilePath: /mianshi/小程序相关/小程序为什么要js和渲染层分离.md
-->



#### 独立的JS运行环境，相比于webview同时处理页面的渲染和JS的执行带来了一些好处：

- js无法动态的在页面插入节点和干预页面的渲染，解决了安全和管控的问题，否则小程序的上线审核就变得毫无意义。
- 渲染层和逻辑层的分离，减轻了webview的压力，js的执行和页面的渲染可以并行，不会出现js执行卡主页面渲染的情况。
- 多个页面可以共享一个JS运行环境，数据很方便的共享，整个小程序的生命周期共享同一个上下文，接近App的体验。

#### 坏处在于：

- 多了很多webview和JSCore数据传输的消耗，数据需要序列化成字符串格式进行传输。